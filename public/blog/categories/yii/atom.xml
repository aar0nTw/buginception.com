<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: yii | {Bug:inception}]]></title>
  <link href="http://blog.buginception.com/blog/categories/yii/atom.xml" rel="self"/>
  <link href="http://blog.buginception.com/"/>
  <updated>2012-01-23T01:40:04+08:00</updated>
  <id>http://blog.buginception.com/</id>
  <author>
    <name><![CDATA[Aar0n]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[[Yii]Ch.0-1 YiiFramework簡介 ]]></title>
    <link href="http://blog.buginception.com/blog/2012/01/22/why-use-yii/"/>
    <updated>2012-01-22T19:55:00+08:00</updated>
    <id>http://blog.buginception.com/blog/2012/01/22/why-use-yii</id>
    <content type="html"><![CDATA[<p>PHP的framework非常的多樣,隨手拈來都可以講出很多,舉例如老牌的<a href="http://cakephp.org/">CakePHP</a>, <a href="http://framework.zend.com">Zend</a>, <a href="http://www.symfony-project.org/">Symfony</a>, <a href="http://codeigniter.com">CodeIgniter</a>,或者是<a href="http://www.slimframework.com">SlimFramework</a>,抑或者最近常聽到的<a href="http://fuelphp.com">fuelPHP</a>,到我所要提到的<a href="http://www.yiiframewok.com">Yii</a>.</p>

<p>Yii,為什麼要採用Yii? 這邊有幾點來稍微簡介一下:</p>

<h3>1. High Performance</h3>

<p>官網比較了同樣未採用APC與使用APC之後的RPS數據,Yii 在未使用APC的狀況下,RPS大約比CI多約15%,Cake的3倍,但在使用了APC之後Yii的RPS是CI的3倍,Cake的8倍,Symfony的13倍</p>

<p>至於Yii為何能做到?</p>

<!-- more -->


<p>主要的原因應該在於整個Yii Framework大量採用了lazy loading的技巧,舉例來說,在一個class file未被使用之前,這個檔案不會被include,在一個物件將要被使用之前Yii也不會初始化該物件,其他框架的缺點在於縱使未被使用或沒有被Request的功能例如DB connection,user session等,都還是被framework本身所啟用。</p>

<h3>2. MVC pattern</h3>

<p>Yii相當完整的實作了MVC模式,MVC模式是近年來相當熱門的設計模式,概念上相當合理分離了商業邏輯與流程管控,但是實務上的MVC其實常常容易走調,這我之後有機會會在提到,簡而言之,在第一線講究使用者體驗的軟體實作上(包含了web,mobile app)MVC模式是相當熱門的模式,舉凡RoR,Spring,ASP.net,皆有MVC模式的實作. 當然許多的PHP framework也實作了MVC模式,Yii的MVC實作基本上參考了Rails.</p>

<h3>3. ActiveRecord</h3>

<p>Yii實作了ActiveRecord,講到ActiveRecord不得不講到Rails,Rails便是採用ActiveRecord模式來做為ORM框架,ActiveRecord Class代表資料庫中的一張表,每個ActiveRecord實體都對應了一筆記錄,ActiveRecord模式的特性讓我們可用快速的採用物件導向的方式來控制資料庫,ActiveRecord可以說是Yii跟Rails的ORM類,但是ActiveRecord跟一般所說的ORM如Java的Hibernate又有很多不同,它實作起來更為快速,直覺。</p>

<h3>4. Unit Test</h3>

<p>TDD一直都是很多人在推廣的開發方式,Yii本身支援了基於PHPUnit以及Selenium的單元測試,在Gii產生Model的ActiveRecord類別後會自動產生一個相對應的測試類別.</p>

<h3>5. Automatic Code Generation</h3>

<p>Yii擁有相當程度的自動產出功能,建立好一張Table後,便可以採用內建的產生器,產出初期MVC雛形,整個CRUD流程,包含Model,Controller,到前端的表單,都可以在一瞬間建立,省去初期煩人的建置時間.</p>

<p>Yii框架還有相當多的特性,將會在往後的文章裡面提到,另外Yii是由居住於華盛頓DC的華人Qing Xue所設計的PHP框架,這在這個圈子是很難得的,而Yii也已經累積了不少使用者,希望這個框架能夠繼續的發展下去,成為PHP其中一個優秀的App Framework.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[Yii]繁體中文教程大綱]]></title>
    <link href="http://blog.buginception.com/blog/2012/01/19/yii-zhhant-tutorial-catelog/"/>
    <updated>2012-01-19T01:03:00+08:00</updated>
    <id>http://blog.buginception.com/blog/2012/01/19/yii-zhhant-tutorial-catelog</id>
    <content type="html"><![CDATA[<p>用PHP&amp;YiiFramework開發專案也一年多了,心中一直有個小小的計畫,Yii大部分的中文資源都是簡體中文,一直想要動筆寫YiiFramework的繁體中文tutorial,但是自己本身也有工作,終於讓我等到年假了,在這篇文章裡面我想先訂出整個教程的大綱,至於我到底寫不寫的完,關鍵就看這個年假了:)</p>

<p>撰寫方面,基本上我會參考官方英文版的教程加上我個人在開發專案上的經驗來完成這個繁體中文的文件</p>

<p>當然,這個大綱頁面的內容可能會無限制的增加:),想到可以寫的就會加上,直到我寫不下去為止</p>

<p>另外未來如果在文章上有任何的錯誤,歡迎提出指正</p>

<!-- more -->


<ol>
<li>Ch.0 為何採用Yii?

<ul>
<li>Yii簡介</li>
<li>事前準備</li>
<li>環境建置</li>
<li>使用yiic建立第一個webapp</li>
</ul>
</li>
<li>Ch.1 從基礎開始:

<ul>
<li>MVC架構</li>
<li>引導頁面(bootstrap)</li>
<li>Yii應用設定</li>
<li>Controller</li>
<li>Model</li>
<li>View</li>
</ul>
</li>
<li>Ch.2 快速建構:

<ul>
<li>Component</li>
<li>使用者與認證</li>
<li>模組化</li>
<li>別名與命名空間</li>
<li>流程管理</li>
<li>Gii</li>
</ul>
</li>
<li>Ch.3 Model

<ul>
<li>Model概述與建立Model</li>
<li>DAO</li>
<li>屬性規則</li>
<li>查詢範圍</li>
<li>資料關連</li>
<li>Criteria簡介</li>
</ul>
</li>
<li>Ch.4 Controller

<ul>
<li>Controller概述</li>
<li>建立Action</li>
<li>權限控管</li>
</ul>
</li>
<li>Ch.5 Criteria 查詢標準</li>
<li>Ch.6 View

<ul>
<li>使用template</li>
<li>Yii helper</li>
<li>JavaScript部分</li>
</ul>
</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[Yii]Assign Attribute's issue]]></title>
    <link href="http://blog.buginception.com/blog/2012/01/11/yii-assign-attributes/"/>
    <updated>2012-01-11T15:28:00+08:00</updated>
    <id>http://blog.buginception.com/blog/2012/01/11/yii-assign-attributes</id>
    <content type="html"><![CDATA[<p>通常情況下，我們習慣這樣來給予Model值</p>

<p>```php FooController
&lt;?php
//....上略
$model = new Foo();
if(isset($_POST['Foo'])){</p>

<pre><code>$model-&gt;attributes = $_POST['Foo'];
</code></pre>

<p>}
?>
```
這叫做 <strong>massively assigned</strong></p>

<!-- more -->


<p>而輸出json時我們會使用CJSON來encode
<code>php
&lt;?php
//....上略
echo CJSON::encode($model);
?&gt;
</code>
問題來了,有時我們同時做 <strong>massively assigned</strong> 再輸出JSON時, 接收的一方(也許是mobile phone) 怎麽parse都parse不出我們encode的JSON</p>

<p>這時候就要注意你的Model有没有問題了,因爲<strong>massively assigned</strong>是不允許<strong>unsafe attribute</strong>的
請檢查你的Model::rules()
```php Model:Foo
&lt;?php
public function rules()
{</p>

<pre><code>//略
</code></pre>

<p>}
```</p>

<p>檢查你的model attribute有無遺漏,因爲有時候因爲新的需求,在db加入新的schema,而忘了在Model裏加入新的rule,這個attribute就會變成unsafe,會在YII_DEBUG出現錯誤訊息,output buffering也會出現長度3的空白string,JSON當然就parse不出來了</p>

<p>我建議在新增column時,還是使用migration,比較安全:)</p>
]]></content>
  </entry>
  
</feed>
